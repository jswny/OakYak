<head>
  <title>OakYak</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="container">

    <div class="panel panel-default">
      <div class="panel-heading header">
        <span class="glyphicon glyphicon-tree-deciduous" id="oak-tree" title="Info" aria-hidden="true"></span>
        <strong>OakYak</strong>
        <a id="version" href="#">v0.1.6</a>
        {{#if login}}
          {{> loginButtons}}
        {{/if}}
      </div>
      <div class="panel-body">

        {{#each customAlertsTop}}
          {{> customAlert}}
        {{/each}}

        <div class="row">
          <div class="col-lg-6 top-menu">
            <div class="input-group">
              <div class="input-group-btn">
                <button type="button" class="btn btn-default dropdown-toggle" id="post-view-button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Sort: {{sort}} <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                  <li><a id="sort-hot" href="#">Hot</a></li>
                  <li><a id="sort-new" href="#">New</a></li>
                  {{#if isAdmin}}
                    <li><a id="sort-status" href="#">Status</a></li>
                    <li><a id="sort-all" href="#">All</a></li>
                  {{/if}}
                </ul>
              </div>
              <input type="text" id="post-input" name="text" class="form-control" placeholder="Type to post something"/>
              <div class="input-group-btn">
                <button id="new-post" type="button" class="btn btn-default">Post</button>
              </div>
            </div>
          </div>
        </div>


        {{#if isAdmin}}
          <div class="row">
            <div class="col-lg-6 top-menu">
              <div class="admin-buttons">
                <form>
                  Post Approval:
                  <input type="checkbox" id="toggle-approval" name="toggle-approval" checked="{{postApproval}}">
                </form>
              </div>
            </div>
          </div>
        {{/if}}

        {{#each customAlertsBottom}}
          {{> customAlert}}
        {{/each}}
      </div>
    </div>

    {{#each posts}}
      {{> post}}
    {{/each}}

  </div>
</body>

<template name="post">
  <div class="panel panel-default post-{{status}}">
    <div class="panel-body">
      <div class="post-header">
        <div class="post-vote">
          {{#if isPinned}}
            <i title="Pinned post" class="fa fa-thumb-tack post-pin"></i>
          {{else}}
            <label class="vote-buttons">
              <input id="upvote" type="radio" disabled="{{#if isUpButtonDisabled}}disabled{{/if}}" name="vote"/>
              <i class="fa fa-arrow-up {{#if isUpButtonDisabled}}clicked-vote-up{{/if}}"></i>
            </label>
            <div class="point-value"><strong>{{points}}</strong></div>
            <label class="vote-buttons">
              <input id="downvote" type="radio" disabled="{{#if isDownButtonDisabled}}disabled{{/if}}" name="vote"/>
              <i class="fa fa-arrow-down {{#if isDownButtonDisabled}}clicked-vote-down{{/if}}"></i>
            </label>
          {{/if}}
        </div>
        <div class="post-content">
          <span class="text">{{text}}</span>
        </div>
      </div>
      {{#if isAdmin}}
        <div class="post-footer">
          <div class="dropdown">
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
              Actions
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu pull-right" aria-labelledby="dropdownMenu1">
              <li><a href="#" class="post-toggle-pin">
                {{#if isPinned}}
                  Unpin
                {{else}}
                  Pin
                {{/if}}
              </a></li>
              <li role="separator" class="divider"></li>
              <li class="{{#if isApproved}}disabled{{/if}}"><a href="#" class="post-approve">Approve</a></li>
              <li class="{{#if isPending}}disabled{{/if}}"><a href="#" class="post-pend">Pend</a></li>
              <li class="{{#if isRemoved}}disabled{{/if}}"><a href="#" class="post-remove">Remove</a></li>
            </ul>
          </div>
        </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="customAlert">
  <div class="row">
    <div class="col-lg-6 top-menu">
      <div class="alert alert-{{alertType}} {{#if dismissable}}alert-dismissible{{/if}} custom-alert-{{alertType}}" role="alert">
        {{#if dismissable}}
          <button type="button" class="close close-custom-alert" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        {{/if}}
        {{{text}}}
      </div>
    </div>
  </div>
</template>
